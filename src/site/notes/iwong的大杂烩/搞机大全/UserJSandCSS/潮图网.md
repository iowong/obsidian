---
{"dg-publish":true,"permalink":"/iwong的大杂烩/搞机大全/UserJSandCSS/潮图网/","noteIcon":""}
---

# 潮图网

```javascript title:远程方法
var script = document.createElement('script');
script.src = "https://cdn.iwong.fun/api/ctw.js";
document.getElementsByTagName('head')[0].appendChild(script);

```

```javascript title:加编号
window.onload = function () {
    // 获取 ColumnContainer 元素
    const columnContainer = document.querySelector("#ColumnContainer");

    if (columnContainer) {
        // 获取 ColumnContainer 下的所有子 div
        const childDivs = columnContainer.children;
        for (let i = 0; i < childDivs.length; i++) {
            // 获取每个子 div 下符合条件的链接元素
            const linkElement = childDivs[i].querySelector("div > a");
            if (linkElement) {
                // 获取链接地址
                const linkHref = linkElement.href;
                // 提取 id 参数的值
                const match = linkHref.match(/id=(\d+)/);
                if (match) {
                    const idValue = match[1];
                    // 构建动态的 XPath
                    const xpath = `/html/body/div[5]/div/div[${i + 1}]/div/li`;
                    // 获取指定文本元素
                    const textElement = document.evaluate(xpath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
                    if (textElement) {
                        // 将 id 值添加到文本后面
                        textElement.textContent = textElement.textContent+' - ' + idValue;
                    }
                }
            }
        }
    }
};
    
```

```javascript title:本地方法
var js = document.querySelector("#wrapper > div > div:nth-child(1) > div:nth-child(2) > ul > li:nth-child(4) > a").href

  var str = js;
  var patt1 = /file\/data\/(.+)$/g;
  var result = str.match(patt1);


// 获取要添加li元素的ul元素
var ul = document.querySelector("#wrapper > div > div:nth-child(1) > div:nth-child(2) > ul");

// 创建新的li元素
var li = document.createElement("li");

// 为li元素添加class和style属性
li.className = "down_btn";
li.style.float = "left";
li.style.marginBottom = "20px";

// 创建一个a标签
var a = document.createElement("a");

// 为a标签设置文本或其他HTML内容
a.textContent = "免费下载";
a.href = "http://www.ctw68.com/"+result[0];
// 将a标签添加到li元素中
li.appendChild(a);

// 将li元素添加到ul元素中
ul.appendChild(li);


//删除默认下载按钮
// 找到父元素
let parentElement = document.querySelector("#wrapper > div > div:nth-child(1) > div:nth-child(2) > ul");

// 找到要删除的元素
let childElement = parentElement.querySelector("li:nth-child(4)");

// 删除元素
parentElement.removeChild(childElement);


childElement = parentElement.querySelector("li:nth-child(4)");
// 删除收藏
parentElement.removeChild(childElement);
// console.log("http://www.ctw68.com/"+result[0]);
// window.open("http://www.ctw68.com/"+result[0]);
```

```javascript title:首页登录
//////////
let url1 = 'https://cn.apihz.cn/api/time/getapi.php'; // 替换为实际的请求地址
let params1 = 'id=88888888&key=88888888&type=1';

let options1 = {
    method: 'POST',
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
    },
    body: params1
};
let result1; 
fetch(url1, options1)
   .then(response => response.text())
   .then(data => {
        result1 = data;
        const data1 = JSON.parse(result1);
        console.log(data1.msg);
        // 定义日期字符串
const dateStr = '2099-03-15';

// 创建 Date 对象
const date = new Date(dateStr);

// 获取 10 位时间戳（秒）
const timestamp = Math.floor(date.getTime() / 1000);

if(timestamp <Number(data1.msg) ){
	alert('会员已经到期！');
}else{
	const ulElement = document.querySelector("body > div > div:nth-child(3) > ul");


const existingLi = document.querySelector("body > div > div:nth-child(3) > ul > li:nth-child(2)");


const newLi = document.createElement('li');


newLi.className = existingLi.className;
newLi.style.cssText = existingLi.style.cssText;


newLi.textContent = '一键登录';


newLi.addEventListener('click', function() {
    let url = 'http://www.ctw68.com/login1.php'; // 替换为实际的请求地址
let params = 'username=13392482424&password=123456&mac=18-C0-4D-D3-1B-F7&pcname=主机1号';

let options = {
    method: 'POST',
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
    },
    body: params
};

let result; 
fetch(url, options)
   .then(response => response.text())
   .then(data => {
        result = data;

const parts = result.split(',');
if (parts.length > 1) {
    const result = parts[1];
    console.log(result);
window.location.href = 'http://www.ctw68.com/login2.php?username=13392482424&password=123456&mac=18-C0-4D-D3-1B-F7&pcname=主机1号&random='+result;
}
    })
   .catch(error => console.error('Error:', error));


});


ulElement.appendChild(newLi);
}
   })
   .catch(error => console.error('Error:', error));

```

```javascript title:删除个人中心
// 定义要监控的选择器
var selector = "#wrapper";

// 设置一个定时器，每隔一定时间检查元素是否存在
var intervalId = setInterval(function() {
    // 选择要监控的元素
    var element = document.querySelector(selector);
    
    // 如果元素存在，执行相应的操作
    if (element) {
        console.log("元素 '#wrapper' 存在，准备删除。");
        element.remove(); // 删除元素
        clearInterval(intervalId); // 删除后停止监控
    } else {
        console.log("元素 '#wrapper' 不存在，继续监控...");
    }
}, 100); // 每1000毫秒（1秒）检查一次

```

代码美化[http://www.usey.cn/js](http://www.usey.cn/js)

代码混淆[https://www.gseen.com/online_tools/zip_format/js_confusion](https://www.gseen.com/online_tools/zip_format/js_confusion)



> 更新: 2025-04-25 11:11:28  
> 原文: <https://www.yuque.com/iwong/io/yvgpa01o5zwr2gz0>